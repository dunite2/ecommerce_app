<div class="faq-page">
  <div class="container mt-4">
    <!-- Back to Home Button -->
    <div class="row mb-3">
      <div class="col-12">
        <%= link_to root_path, class: "btn btn-outline-success scroll-fade" do %>
          <i class="fas fa-arrow-left me-2"></i>Back to Home
        <% end %>
      </div>
    </div>

    <!-- Header -->
    <div class="row mb-5">
      <div class="col-12 text-center">
        <h1 class="page-title">FAQs</h1>
        <p class="page-subtitle">Shipping and Restocks</p>
      </div>
    </div>

    <div class="row justify-content-center">
      <div class="col-lg-8">
        <!-- FAQ Item 1 -->
        <div class="faq-item mb-4">
          <div class="faq-question" data-bs-toggle="collapse" data-bs-target="#faq1">
            <h5>When do you usually restock? <i class="fas fa-chevron-down"></i></h5>
          </div>
          <div class="collapse" id="faq1">
            <div class="faq-answer">
              <p>We usually restock every 2 weeks - but this would depend on the shipping and the availability of the matcha.</p>
            </div>
          </div>
        </div>

        <div class="faq-item mb-4">
          <div class="faq-question" data-bs-toggle="collapse" data-bs-target="#faq2">
            <h5>How long does shipping take? <i class="fas fa-chevron-down"></i></h5>
          </div>
          <div class="collapse" id="faq2">
            <div class="faq-answer">
              <p>A week or two</p>
            </div>
          </div>
        </div>

        <div class="faq-item mb-4">
          <div class="faq-question" data-bs-toggle="collapse" data-bs-target="#faq3">
            <h5>Do you ship internationally? <i class="fas fa-chevron-down"></i></h5>
          </div>
          <div class="collapse" id="faq3">
            <div class="faq-answer">
              <p>No. We do not ship internationally. We only ship across Canada for now.</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Function to check if element is in viewport
      function isInViewport(element) {
        const rect = element.getBoundingClientRect();
        return (
          rect.top >= 0 &&
          rect.left >= 0 &&
          rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) + 100 &&
          rect.right <= (window.innerWidth || document.documentElement.clientWidth)
        );
      }

      // Function to add visible class to elements
      function animateOnScroll() {
        const elements = document.querySelectorAll('.scroll-fade, .faq-item, .page-title, .page-subtitle');
        
        elements.forEach(element => {
          if (isInViewport(element)) {
            element.classList.add('visible');
          }
        });
      }

      // Initial check
      animateOnScroll();

      // Check on scroll
      window.addEventListener('scroll', animateOnScroll);
      
      // Trigger animation for elements already visible
      setTimeout(() => {
        document.querySelector('.page-title')?.classList.add('visible');
        document.querySelector('.page-subtitle')?.classList.add('visible');
        document.querySelector('.scroll-fade')?.classList.add('visible');
      }, 100);
      
      // Stagger FAQ items animation
      const faqItems = document.querySelectorAll('.faq-item');
      faqItems.forEach((item, index) => {
        setTimeout(() => {
          if (isInViewport(item)) {
            item.classList.add('visible');
          }
        }, 200 + (index * 150));
      });
    });
  </script>
</div>
